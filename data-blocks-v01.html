<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=UTF-8">
<title>Exported from Notepad++</title>
<style type="text/css">
span {
	font-family: 'Liberation Sans';
	font-size: 9pt;
	color: #400000;
}
.sc0 {
	color: #000000;
}
.sc1 {
	color: #804000;
}
.sc2 {
	color: #A2A2A2;
}
.sc3 {
	color: #000000;
}
.sc8 {
	color: #D32E25;
}
.sc9 {
	color: #808080;
}
.sc11 {
	color: #B90000;
}
.sc16 {
	color: #005F97;
}
.sc17 {
	font-family: 'Times New Roman';
	font-size: 10pt;
	color: #000000;
}
.sc18 {
	font-weight: bold;
	color: #643200;
}
.sc19 {
	font-family: 'Times New Roman';
	font-size: 8pt;
	font-weight: bold;
	color: #07008A;
}
.sc23 {
	font-family: 'Times New Roman';
	font-size: 10pt;
	color: #000000;
}
.sc24 {
}
</style>
</head>
<body>
<div style="float: left; white-space: pre; line-height: 1; background: #EEEEEA; "><span class="sc24">
</span><span class="sc18">-- DATA BLOCKS --  
</span><span class="sc0">[Author:</span><span class="sc24">  </span><span class="sc0">Mikhail</span><span class="sc24"> </span><span class="sc0">V.,</span><span class="sc24"> </span><span class="sc0">2018]</span><span class="sc24"> 


</span><span class="sc18">-- 1 --  Definition and basic examples
</span><span class="sc17">::: 
“Data block” is a syntactical construct suggested for defining data trees and 
simple data entries like tuples, lists, etc. Main aim is to remove punctuation 
redundancy and improve formatting consistence in multi-line data blocks. 
As a result, this should improve the readability of data and lower the user input 
efforts within such data blocks. 

Main syntax principle:
- nesting (and parsing) by indentation, similar to all Python blocks;
- start of the suite: "///" -- triple slash;
- first token after "///" defines the type of structure, e.g. "/// t" for tuples;
- whitespace separated elements;
- expressions are put in parentheses

All examples provided in order: "new syntax"  vs. "current Python syntax"
Note that best results can be achieved with syntax highlighting, so 
by the judgement it should be understood that e.g. type descriptors in real 
situation should be highlighted with different color than items.
:::</span><span class="sc24">

</span><span class="sc19">~ example 1.1 -- tuple                            Python form:
</span><span class="sc24">
</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t</span><span class="sc24">    </span><span class="sc3">1</span><span class="sc24">                                                       </span><span class="sc0">(1,)</span><span class="sc24">
</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t</span><span class="sc24">    </span><span class="sc3">1</span><span class="sc24">  </span><span class="sc3">2</span><span class="sc24">  </span><span class="sc3">3</span><span class="sc24">                                            </span><span class="sc0">(1,</span><span class="sc24"> </span><span class="sc0">2,</span><span class="sc24"> </span><span class="sc0">3)</span><span class="sc24">
</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t</span><span class="sc24">    </span><span class="sc0">(x</span><span class="sc24"> </span><span class="sc0">+</span><span class="sc24"> </span><span class="sc0">y)</span><span class="sc24">  </span><span class="sc0">(sin(x))</span><span class="sc24">                                  </span><span class="sc0">(x</span><span class="sc24"> </span><span class="sc0">+</span><span class="sc24"> </span><span class="sc0">y,</span><span class="sc24">  </span><span class="sc0">sin(x))</span><span class="sc24">

</span><span class="sc19">~ example 1.2 -- assignment
</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t</span><span class="sc24">   </span><span class="sc3">1</span><span class="sc24">  </span><span class="sc3">2</span><span class="sc24">  </span><span class="sc3">3</span><span class="sc24">                                 </span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc0">(1,</span><span class="sc24"> </span><span class="sc0">2,</span><span class="sc24"> </span><span class="sc0">3)</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t</span><span class="sc24">                                                </span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc0">(</span><span class="sc24">
     </span><span class="sc3">1</span><span class="sc24">  </span><span class="sc3">2</span><span class="sc24">  </span><span class="sc3">3</span><span class="sc24">                                                     </span><span class="sc0">1,</span><span class="sc24"> </span><span class="sc0">2,</span><span class="sc24"> </span><span class="sc3">3</span><span class="sc24"> </span><span class="sc0">)</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=\</span><span class="sc24">                                                     </span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc0">(</span><span class="sc24">
</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t</span><span class="sc24">                                                                 </span><span class="sc0">1,</span><span class="sc24"> </span><span class="sc0">2,</span><span class="sc24"> </span><span class="sc3">3</span><span class="sc24">
     </span><span class="sc3">1</span><span class="sc24">  </span><span class="sc3">2</span><span class="sc24">  </span><span class="sc3">3</span><span class="sc24">                                                </span><span class="sc0">)</span><span class="sc24">
     
</span><span class="sc19">~ example 1.3 -- nesting
</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=\</span><span class="sc24">                                                     </span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=\</span><span class="sc24">
</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t</span><span class="sc24">                                                            </span><span class="sc0">(</span><span class="sc24">
     </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">.</span><span class="sc24">                                                            </span><span class="sc0">(</span><span class="sc24"> 
          </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">.</span><span class="sc24">   </span><span class="sc3">1</span><span class="sc24">   </span><span class="sc3">2</span><span class="sc24">   </span><span class="sc3">3</span><span class="sc24">                                           </span><span class="sc0">(1,</span><span class="sc24"> </span><span class="sc0">2,</span><span class="sc24"> </span><span class="sc0">3)</span><span class="sc24">  </span><span class="sc0">,</span><span class="sc24">
          </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">.</span><span class="sc24">   </span><span class="sc3">123</span><span class="sc24">   </span><span class="sc3">332</span><span class="sc24">   </span><span class="sc3">543</span><span class="sc24">                                </span><span class="sc0">(123,</span><span class="sc24"> </span><span class="sc0">332,</span><span class="sc24"> </span><span class="sc0">543)</span><span class="sc24">     </span><span class="sc0">)</span><span class="sc24"> </span><span class="sc0">,</span><span class="sc24">
     </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">.</span><span class="sc24">    </span><span class="sc16">"hello"</span><span class="sc24">   </span><span class="sc16">"foo bar"</span><span class="sc24">                           </span><span class="sc0">(</span><span class="sc16">"hello"</span><span class="sc0">,</span><span class="sc24"> </span><span class="sc16">"foo bar"</span><span class="sc0">)</span><span class="sc24">   </span><span class="sc0">)</span><span class="sc24">

</span><span class="sc23">&gt; *Note: the dot after /// means inheritance of type from the previous suite &lt;</span><span class="sc24">


</span><span class="sc18">-- 2 --   Basic types of data blocks 
</span><span class="sc17">::: 
Main types of blocks are: 
"t" -- tuple
"L" -- list (uppercase is chosen to avoid visual ambiguity "1lI")
"d" -- dictionary
Dictionaries are parsed by simple rule: odd elements are keys,
even elements are values. 
:::</span><span class="sc24">
</span><span class="sc19">~ example 2.1 -- mixed-type block
</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=\</span><span class="sc24">                                                     </span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=\</span><span class="sc24">
</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t</span><span class="sc24">                                                            </span><span class="sc0">(</span><span class="sc24">
     </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">.</span><span class="sc24">                                                            </span><span class="sc0">(</span><span class="sc24"> 
          </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">L</span><span class="sc24">   </span><span class="sc3">1</span><span class="sc24">   </span><span class="sc3">2</span><span class="sc24">   </span><span class="sc3">3</span><span class="sc24">                                           </span><span class="sc0">[1,</span><span class="sc24"> </span><span class="sc0">2,</span><span class="sc24"> </span><span class="sc0">3]</span><span class="sc24">  </span><span class="sc0">,</span><span class="sc24">
          </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">L</span><span class="sc24">   </span><span class="sc3">123</span><span class="sc24">   </span><span class="sc3">332</span><span class="sc24">   </span><span class="sc3">543</span><span class="sc24">                           </span><span class="sc0">[123,</span><span class="sc24"> </span><span class="sc0">332,</span><span class="sc24"> </span><span class="sc0">543]</span><span class="sc24">     </span><span class="sc0">)</span><span class="sc24"> </span><span class="sc0">,</span><span class="sc24">
     </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">d</span><span class="sc24">   </span><span class="sc16">"hello"</span><span class="sc24">   </span><span class="sc16">"foo bar"</span><span class="sc24">                            </span><span class="sc0">{</span><span class="sc16">"hello"</span><span class="sc0">:</span><span class="sc24">  </span><span class="sc16">"foo bar"</span><span class="sc0">}</span><span class="sc24">  </span><span class="sc0">)</span><span class="sc24">

</span><span class="sc19">~ example 2.2 -- nested dictionary
</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=\</span><span class="sc24">
</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">d</span><span class="sc24"> 
     </span><span class="sc16">"apples"</span><span class="sc24"> 
     </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">.</span><span class="sc24">     </span><span class="sc16">"type"</span><span class="sc24">         </span><span class="sc16">"fruit"</span><span class="sc24"> 
               </span><span class="sc16">"color"</span><span class="sc24">        </span><span class="sc16">"green"</span><span class="sc24"> 
               </span><span class="sc16">"amount"</span><span class="sc24">  </span><span class="sc3">5</span><span class="sc24">
     </span><span class="sc16">"carrots"</span><span class="sc24"> 
     </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">.</span><span class="sc24">     </span><span class="sc16">"type"</span><span class="sc24">         </span><span class="sc16">"vegetable"</span><span class="sc24"> 
               </span><span class="sc16">"color"</span><span class="sc24">        </span><span class="sc16">"orange"</span><span class="sc24"> 
               </span><span class="sc16">"amount"</span><span class="sc24">  </span><span class="sc3">20</span><span class="sc24"> 

</span><span class="sc2"># vs
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=\</span><span class="sc24">
</span><span class="sc0">{</span><span class="sc24">
     </span><span class="sc16">"apples"</span><span class="sc0">:</span><span class="sc24"> </span><span class="sc0">{</span><span class="sc24">
          </span><span class="sc16">"type"</span><span class="sc0">:</span><span class="sc24">        </span><span class="sc16">"fruit"</span><span class="sc24"> </span><span class="sc0">,</span><span class="sc24">
          </span><span class="sc16">"color"</span><span class="sc0">:</span><span class="sc24">       </span><span class="sc16">"green"</span><span class="sc24"> </span><span class="sc0">,</span><span class="sc24">
          </span><span class="sc16">"amount"</span><span class="sc0">:</span><span class="sc24">      </span><span class="sc3">5</span><span class="sc24">  </span><span class="sc0">},</span><span class="sc24">
     </span><span class="sc16">"carrots"</span><span class="sc0">:</span><span class="sc24"> </span><span class="sc0">{</span><span class="sc24">
          </span><span class="sc16">"type"</span><span class="sc0">:</span><span class="sc24">        </span><span class="sc16">"vegetable"</span><span class="sc24"> </span><span class="sc0">,</span><span class="sc24">
          </span><span class="sc16">"color"</span><span class="sc0">:</span><span class="sc24">       </span><span class="sc16">"orange"</span><span class="sc24"> </span><span class="sc0">,</span><span class="sc24">
          </span><span class="sc16">"amount"</span><span class="sc0">:</span><span class="sc24">      </span><span class="sc3">20</span><span class="sc24">  </span><span class="sc0">}</span><span class="sc24">
</span><span class="sc0">}</span><span class="sc24">

</span><span class="sc17">::: As seen in last example, the Python equivalent becomes very 
"noisy" due to excessive punctuation. It requires significant 
effort for user input and also may lead to "misreading" of data :::</span><span class="sc24">



</span><span class="sc18">-- 3 --   Slicing, getting items, stacking
</span><span class="sc24">
</span><span class="sc19">~ example 3.0 -- getting items / slicing
</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t[0:2]</span><span class="sc24">     </span><span class="sc3">1</span><span class="sc24">   </span><span class="sc3">2</span><span class="sc24">   </span><span class="sc3">3</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=\</span><span class="sc24">
 </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t[0]</span><span class="sc24">
     </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t[1]</span><span class="sc24">     </span><span class="sc3">1</span><span class="sc24">   </span><span class="sc3">2</span><span class="sc24">   </span><span class="sc3">3</span><span class="sc24">
     </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t</span><span class="sc24">         </span><span class="sc3">4</span><span class="sc24">   </span><span class="sc3">5</span><span class="sc24">   </span><span class="sc3">6</span><span class="sc24">  
</span><span class="sc2">#vs
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc0">(1,</span><span class="sc24"> </span><span class="sc0">2,</span><span class="sc24"> </span><span class="sc0">3)[0:2]</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc0">((1,</span><span class="sc24"> </span><span class="sc0">2,</span><span class="sc24"> </span><span class="sc0">3)[1],</span><span class="sc24"> </span><span class="sc0">(4,</span><span class="sc24"> </span><span class="sc0">5,</span><span class="sc24"> </span><span class="sc0">6))[0]</span><span class="sc24">

</span><span class="sc17">::: 
Stacking: further contraction can be achieved by additional type 
descriptors for stacking of leaf nodes (external nodes).
i.e.:  2-level stacking:
   /// t*t  ...
3-level stacking: 
   /// t*t*t  ...
:::</span><span class="sc24">
</span><span class="sc19">~ example 3.1 -- two-level stacking (e.g. tuple of tuples)
</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t*t</span><span class="sc24">      </span><span class="sc3">1</span><span class="sc24">   </span><span class="sc3">2</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">3</span><span class="sc24">   </span><span class="sc3">4</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">5</span><span class="sc24">   </span><span class="sc3">6</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">7</span><span class="sc24">   </span><span class="sc3">8</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t*t</span><span class="sc24">
     </span><span class="sc16">"foo"</span><span class="sc24">    </span><span class="sc16">"bar"</span><span class="sc24">
     </span><span class="sc16">"apple"</span><span class="sc24">    </span><span class="sc16">"orange"</span><span class="sc24">    </span><span class="sc16">"plum"</span><span class="sc24">
</span><span class="sc2">#vs
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc0">(</span><span class="sc24">  </span><span class="sc0">(1,</span><span class="sc24"> </span><span class="sc0">2),</span><span class="sc24">  </span><span class="sc0">(3,</span><span class="sc24"> </span><span class="sc0">4),</span><span class="sc24">  </span><span class="sc0">(5,</span><span class="sc24"> </span><span class="sc0">6),</span><span class="sc24">  </span><span class="sc0">(7,</span><span class="sc24"> </span><span class="sc0">8)</span><span class="sc24"> </span><span class="sc0">)</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc0">(</span><span class="sc24">
     </span><span class="sc0">(</span><span class="sc24"> </span><span class="sc16">"foo"</span><span class="sc0">,</span><span class="sc24"> </span><span class="sc16">"bar"</span><span class="sc24"> </span><span class="sc0">),</span><span class="sc24"> 
     </span><span class="sc0">(</span><span class="sc24"> </span><span class="sc16">"apple"</span><span class="sc0">,</span><span class="sc24"> </span><span class="sc16">"orange"</span><span class="sc0">,</span><span class="sc24"> </span><span class="sc16">"plum"</span><span class="sc24"> </span><span class="sc0">)</span><span class="sc24">  </span><span class="sc0">)</span><span class="sc24">

</span><span class="sc23">&gt;Note:  for two-level stacking: semicolon separates external branches; 
  newline has same function as semicolon.&lt;</span><span class="sc24">

</span><span class="sc19">~ example 3.2 -- three-level stacking (tuple of tuples of tuples)
</span><span class="sc24">
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t*t*t</span><span class="sc24">
     </span><span class="sc3">1</span><span class="sc24">  </span><span class="sc3">2</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">  </span><span class="sc3">3</span><span class="sc24">  </span><span class="sc3">4</span><span class="sc24">
     </span><span class="sc3">5</span><span class="sc24">  </span><span class="sc3">6</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">  </span><span class="sc3">7</span><span class="sc24">  </span><span class="sc3">8</span><span class="sc24">
</span><span class="sc2">#vs
</span><span class="sc0">data</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc0">(</span><span class="sc24">
     </span><span class="sc0">((1,</span><span class="sc24"> </span><span class="sc0">2),</span><span class="sc24">  </span><span class="sc0">(4,</span><span class="sc24"> </span><span class="sc0">4)</span><span class="sc24"> </span><span class="sc0">),</span><span class="sc24">
     </span><span class="sc0">((5,</span><span class="sc24"> </span><span class="sc0">6),</span><span class="sc24">  </span><span class="sc0">(7,</span><span class="sc24"> </span><span class="sc0">8)</span><span class="sc24"> </span><span class="sc0">),</span><span class="sc24">      </span><span class="sc0">)</span><span class="sc24">

</span><span class="sc23">&gt;Note: for 3-level stacking, newline separates sub-external branches.&lt;</span><span class="sc24">

   
</span><span class="sc19">~ example 3.3 -- binary tree (four levels of nesting)
</span><span class="sc24">
</span><span class="sc0">tree4</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc0">\</span><span class="sc24">
</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t</span><span class="sc24">
     </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">.</span><span class="sc24"> 
          </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t*t*t</span><span class="sc24"> 
               </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24"> 
               </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">
          </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t*t*t</span><span class="sc24"> 
               </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">
               </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">
     </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">.</span><span class="sc24"> 
          </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t*t*t</span><span class="sc24"> 
               </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">
               </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">
          </span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">t*t*t</span><span class="sc24"> 
               </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">
               </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">  </span><span class="sc0">;</span><span class="sc24">   </span><span class="sc3">11</span><span class="sc24">  </span><span class="sc3">22</span><span class="sc24">
</span><span class="sc2">#
#vs
</span><span class="sc0">tree4</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc0">\</span><span class="sc24">
     </span><span class="sc0">(</span><span class="sc24"> 
          </span><span class="sc0">(</span><span class="sc24">
               </span><span class="sc0">(</span><span class="sc24">
                    </span><span class="sc0">((11,</span><span class="sc24"> </span><span class="sc0">22),</span><span class="sc24"> </span><span class="sc0">(11,</span><span class="sc24"> </span><span class="sc0">22)),</span><span class="sc24"> 
                    </span><span class="sc0">((11,</span><span class="sc24"> </span><span class="sc0">22),</span><span class="sc24"> </span><span class="sc0">(11,</span><span class="sc24"> </span><span class="sc0">22))</span><span class="sc24">
               </span><span class="sc0">),</span><span class="sc24"> 
               </span><span class="sc0">(</span><span class="sc24">
                    </span><span class="sc0">((11,</span><span class="sc24"> </span><span class="sc0">22),</span><span class="sc24"> </span><span class="sc0">(11,</span><span class="sc24"> </span><span class="sc0">22)),</span><span class="sc24"> 
                    </span><span class="sc0">((11,</span><span class="sc24"> </span><span class="sc0">22),</span><span class="sc24"> </span><span class="sc0">(11,</span><span class="sc24"> </span><span class="sc0">22))</span><span class="sc24">
               </span><span class="sc0">)</span><span class="sc24">
          </span><span class="sc0">)</span><span class="sc24"> </span><span class="sc0">,</span><span class="sc24"> 
          </span><span class="sc0">(</span><span class="sc24">
               </span><span class="sc0">(</span><span class="sc24">
                    </span><span class="sc0">((11,</span><span class="sc24"> </span><span class="sc0">22),</span><span class="sc24"> </span><span class="sc0">(11,</span><span class="sc24"> </span><span class="sc0">22)),</span><span class="sc24"> 
                    </span><span class="sc0">((11,</span><span class="sc24"> </span><span class="sc0">22),</span><span class="sc24"> </span><span class="sc0">(11,</span><span class="sc24"> </span><span class="sc0">22))</span><span class="sc24">
               </span><span class="sc0">),</span><span class="sc24"> 
               </span><span class="sc0">(</span><span class="sc24">
                    </span><span class="sc0">((11,</span><span class="sc24"> </span><span class="sc0">22),</span><span class="sc24"> </span><span class="sc0">(11,</span><span class="sc24"> </span><span class="sc0">22)),</span><span class="sc24"> 
                    </span><span class="sc0">((11,</span><span class="sc24"> </span><span class="sc0">22),</span><span class="sc24"> </span><span class="sc0">(11,</span><span class="sc24"> </span><span class="sc0">22))</span><span class="sc24">
               </span><span class="sc0">)</span><span class="sc24">
          </span><span class="sc0">)</span><span class="sc24"> 
     </span><span class="sc0">)</span><span class="sc24">



</span><span class="sc18">-- 4 --     Additional types 
-- 4.1 --  Strings
</span><span class="sc24">
</span><span class="sc17">::: 
In addition to common Python tokens, "strings" presentation form is 
suggested ("s" postfix in type descriptor). It is aimed at scenarios where 
all or most of the elements are strings. Parentheses enclose strings 
containing spaces, back-tick leaves the token as is. 
:::</span><span class="sc24">

</span><span class="sc19">~ example 4.1 -- strings only
</span><span class="sc24">
</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">ts</span><span class="sc24">   </span><span class="sc0">apples</span><span class="sc24">   </span><span class="sc0">bananas</span><span class="sc24">   </span><span class="sc0">plums</span><span class="sc24">   </span><span class="sc0">(pink</span><span class="sc24"> </span><span class="sc0">grapefruit)</span><span class="sc24">
</span><span class="sc2">#vs
</span><span class="sc0">(</span><span class="sc16">"apples"</span><span class="sc0">,</span><span class="sc24">  </span><span class="sc16">"bananas"</span><span class="sc0">,</span><span class="sc24">  </span><span class="sc16">"plums"</span><span class="sc0">,</span><span class="sc24">  </span><span class="sc16">"pink grapefruit"</span><span class="sc0">)</span><span class="sc24">

</span><span class="sc19">~ example 4.2 -- mixed with non-strings
</span><span class="sc24">
</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">ds</span><span class="sc24">    </span><span class="sc0">foo</span><span class="sc24">  </span><span class="sc0">`12</span><span class="sc24">      </span><span class="sc0">sum</span><span class="sc24">  </span><span class="sc0">`(x</span><span class="sc24"> </span><span class="sc0">+</span><span class="sc24"> </span><span class="sc0">y)</span><span class="sc24">      </span><span class="sc0">par</span><span class="sc24">   </span><span class="sc0">\(\)</span><span class="sc24">      </span><span class="sc0">es</span><span class="sc24">  </span><span class="sc0">()</span><span class="sc24">
</span><span class="sc2">#vs
</span><span class="sc0">(</span><span class="sc16">"foo"</span><span class="sc0">:</span><span class="sc24">  </span><span class="sc0">12,</span><span class="sc24">  </span><span class="sc16">"sum"</span><span class="sc0">:</span><span class="sc24">  </span><span class="sc0">x</span><span class="sc24"> </span><span class="sc0">+</span><span class="sc24"> </span><span class="sc0">y,</span><span class="sc24">  </span><span class="sc16">"par"</span><span class="sc0">:</span><span class="sc24"> </span><span class="sc16">"()"</span><span class="sc0">,</span><span class="sc24">  </span><span class="sc16">"es"</span><span class="sc0">:</span><span class="sc24">  </span><span class="sc16">""</span><span class="sc0">)</span><span class="sc24">

</span><span class="sc23">&gt; Note: it is suggested to borrow f-string functionalty for these strings by default.
Or maybe make new similar syntax, for example: &lt;</span><span class="sc24">

</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">ts</span><span class="sc24">   </span><span class="sc0">{92</span><span class="sc24"> </span><span class="sc3">93</span><span class="sc24"> </span><span class="sc0">94}abc</span><span class="sc24">   </span><span class="sc0">key:{t}value{w:}{r</span><span class="sc24"> </span><span class="sc0">n}</span><span class="sc24">
</span><span class="sc2">#vs
</span><span class="sc0">(f</span><span class="sc16">"{92:c}{93:c}{94:c}abc"</span><span class="sc0">,</span><span class="sc24"> </span><span class="sc16">"key:\tvalue{w}\r\n"</span><span class="sc24"> </span><span class="sc0">)</span><span class="sc24">


</span><span class="sc18">-- 4.2 --   Multi-line string
</span><span class="sc24">
</span><span class="sc17">:::
This is a controversial suggestion, since this kind of object  
requires a dedicated type and it is not a collection, but rather 
a single variable. Also syntax-highlighting will not work properly 
by default. Motivation is to be able to define indentation-aware 
multi-line strings (see "Notes" in the end of document).
:::</span><span class="sc24">

</span><span class="sc11">///</span><span class="sc24"> </span><span class="sc0">MS</span><span class="sc24"> 
     </span><span class="sc0">A</span><span class="sc24"> </span><span class="sc0">string</span><span class="sc24"> </span><span class="sc0">that</span><span class="sc24"> </span><span class="sc0">spans</span><span class="sc24"> </span><span class="sc0">over</span><span class="sc24"> </span><span class="sc0">several</span><span class="sc24"> </span><span class="sc0">lines</span><span class="sc24"> </span><span class="sc9">and</span><span class="sc24"> </span><span class="sc0">can</span><span class="sc24"> </span><span class="sc0">be</span><span class="sc24"> 
     </span><span class="sc0">defined</span><span class="sc24"> </span><span class="sc8">in</span><span class="sc24"> </span><span class="sc0">any</span><span class="sc24"> </span><span class="sc0">block</span><span class="sc24"> </span><span class="sc0">without</span><span class="sc24"> </span><span class="sc0">need</span><span class="sc24"> </span><span class="sc0">to</span><span class="sc24"> </span><span class="sc0">use</span><span class="sc24"> </span><span class="sc16">"dedent"</span><span class="sc0">.</span><span class="sc24">
     


</span><span class="sc18">--- SUMMARY --- 
</span><span class="sc24">
</span><span class="sc17">:::
Main justification for the proposed syntax is relatively wide range 
of cases where it is applicable. Most of mentioned examples show 
improvements in readability and potential for reduction of 
maintenance time (input and editing of data).
The benefits can be bigger in projects with a lot of data definitions.
Being part of syntax, it will enable a user to directly import resources 
into projects or define them directly in relevant parts of code, which 
is very common for testing.

Points on visual appeal and readability: 
 - Reduction of redundant punctuation.
 - Consistent formatting similar to the rest of Python blocks.
 - Explicit type descriptors eliminates the visual similarity found 
   in current collection constructs: []{}(), which all use brackets 
   and sometimes for different purposes, e.g. index slicing.
 - Whitespace separated elements are widely used in all kinds of 
   layouts, educational materials, etc. so it reduces entrance barrier
   for new learners.
 - Aesthetics is an important factor in language learning and usage
   
 Points on input simplicity:
  - Reduction of redundant punctuation. 
  - No need to go back and forth to edit the brackets: just edit 
    the type descriptor to change the type of structure.
  - Forcing of consistent formatting reduces efforts in long-term 
    maintenance.
  - Simpler copy-pasting, commenting-out.
  - Getting an item directly in the structure is useful for testing
    
 **Main problems**: 
 - Complexity of parser, clash with current parts, e.g. line continuation.
 - New syntax will create different source styles (adoption problem).
 - Some of proposal parts (type descriptors, "strings" type) require 
   modifications to text editors' syntax highlighting to work properly. 
 - Many opened questions, corner cases, etc.
:::</span><span class="sc24">


</span><span class="sc18">-- NOTES --
</span><span class="sc24">
</span><span class="sc18">-- N.1 --    Implicit string concatenation
</span><span class="sc17">::: 
Inside all described data blocks implicid string concatenation 
must NOT happen, i.e. must be disabled in the parser. 
:::</span><span class="sc24">

</span><span class="sc18">-- N.2 --    Line continuation "\" and multi-line strings
</span><span class="sc17">::: 
Currently line continuation works in "hard-coded" manner, 
i.e. these two code samples behave differently: 
:::</span><span class="sc24">

</span><span class="sc8">if</span><span class="sc24"> </span><span class="sc3">1</span><span class="sc0">:</span><span class="sc24">
     </span><span class="sc0">s</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc1">"""\
     abc"""</span><span class="sc24">
     </span><span class="sc0">print(s)</span><span class="sc24">

</span><span class="sc8">if</span><span class="sc24"> </span><span class="sc3">1</span><span class="sc0">:</span><span class="sc24">
     </span><span class="sc8">if</span><span class="sc24"> </span><span class="sc3">1</span><span class="sc0">:</span><span class="sc24">
          </span><span class="sc0">s</span><span class="sc24"> </span><span class="sc0">=</span><span class="sc24"> </span><span class="sc1">"""\
          abc"""</span><span class="sc24">
          </span><span class="sc0">print(s)</span><span class="sc24">
          
</span><span class="sc17">::: 
in the second case variable "s" has different value than in the first case.
This behaviour can be a barrier to implementing some of the mentioned 
features inside data blocks. Therefore it is suggested to change the behavior
of "\" inside the blocks, i.e. so that it removes not only the new line 
but also removes the corresponding indentation whitespace.

It is suggested to introduce a dedicated block type for multi-line strings 
with similar formatting rules (see 4.2). 
:::</span><span class="sc24">
</span></div></body>
</html>
